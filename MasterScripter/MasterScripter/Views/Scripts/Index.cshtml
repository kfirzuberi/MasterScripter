@model IEnumerable<MasterScripter.DAL.Models.Script>
@{
    ViewBag.Title = "Scripts";
}

<h2>Index</h2>

<button type="button" onclick="location.href='@Url.Action("Create", "Scripts")'" class="btn btn-primary bmd-btn-fab bootom-right-fab" 
        data-toggle="tooltip" data-placement="top" title="Add new Script">
    <i class="material-icons">add</i>
</button>

<div class="row">
    <div class="col-md-4">
        <ul id="scriptlist" class="list-group">
            @foreach (var item in Model)
            {
                <li sid="@item.Id" sver="@item.Version" class="list-group-item d-flex justify-content-between align-items-center list-group-item-action">
                    @Html.DisplayFor(modelItem => item.Name)
                    <span class="badge badge-primary badge-pill">
                        @Html.DisplayFor(modelItem => item.Version)
                    </span>
                </li>
            }
        </ul>
    </div>
    <div class="col-md-8">
        <div id="scriptDetail">
            
        </div>
    </div>
    
    <script type="text/javascript">
        var url = '@Url.Action("GetScriptDetail", "Scripts")';

        $('#scriptlist .list-group-item').click(function (event) {
            $('#scriptlist .list-group-item').removeClass('active');
            $(this).addClass('active');
            $('#scriptDetail').load(url, { id: $(this).attr("sid"), version: $(this).attr("sver") });
        });

        $('#scriptlist .list-group-item').first().click();
    </script>
</div>


