@model IEnumerable<MasterScripter.DAL.Models.Script>

@{
    ViewBag.Title = "Scripts";
}

<h2>Index</h2>

<button type="button" onclick="location.href='@Url.Action("Create", "Scripts")'" class="btn btn-primary bmd-btn-fab bootom-right-fab" >
    <i class="material-icons">add</i>
</button>

<div class="row">
    <div class="col-md-4">
        <ul class="list-group">
            @foreach (var item in Model)
            {
                <li id="@( item.Id + "_" + item.Version )" class="list-group-item d-flex justify-content-between align-items-center list-group-item-action">
                    @Html.DisplayFor(modelItem => item.Name)
                    <span class="badge badge-primary badge-pill">
                        @Html.DisplayFor(modelItem => item.Version)
                    </span>
                </li>
            }
        </ul>
    </div>
    <div class="col-md-8">
        <div id="scriptDetail">
            
        </div>
    </div>
    
    <script type="text/javascript">
        var url = '@Url.Action("GetScriptDetail", "Scripts")';

        $('.list-group-item').click(function (event) {

            var params = event.target.id.split('_'); // convert from id_version to [id, version]
            $('#scriptDetail').load(url, { id: params[0], version: params[1] });
        });
    </script>
</div>
