@using MasterScripter.DAL.Models
@model IEnumerable<MasterScripter.DAL.Models.Execution>

@functions{

    public string GetIconText(Status status)
    {
        switch (status)
        {
            case Status.Running:
                return "directions_run";
            case Status.Succeeded:
                return "done";
            case Status.Failed:
                return "error_outline";
            case Status.Waiting:
            default:
                return "access_time";
        }
    }

    public string GetCssClass(Status status, string prefix = "")
    {
        switch (status)
        {
            case Status.Running:
                return prefix + "primary";
            case Status.Succeeded:
                return prefix + "success";
            case Status.Failed:
                return prefix + "danger";
            case Status.Waiting:
            default:
                return prefix + "secondary";
        }
    }

}

<ul class="timeline">
    @foreach (var item in Model)
    {
        <li class="timeline-item">
            <div class="timeline-badge @(GetCssClass(item.Status,"bg-"))">
                <i class="material-icons">@(GetIconText(item.Status))</i>
            </div>
            
            <div class="timeline-panel card @(GetCssClass(item.Status,"border-"))">
                <div class="timeline-heading card-header bg-transparent @(GetCssClass(item.Status,"border-"))">
                    <h4 class="timeline-title">
                        <strong>    (# @Html.DisplayFor(modelItem => item.Id))  </strong>

                        @Html.DisplayFor(modelItem => item.Machine.VLan) -
                        @Html.DisplayFor(modelItem => item.Machine.IP)
                    </h4>
                    <p>
                        <small class="text-muted">Created 11 hours ago by <u>@Html.DisplayFor(modelItem => item.User.FullName)</u> </small>
                        @{
                            if (item.ScheduleTime != null)
                            {
                                <br/>
                                <small>
                                    <i class="material-icons">timer</i> Schedule on @item.ScheduleTime
                                </small> 
                            }
                        }
                    </p>

                </div>
                <div class="card-body @(GetCssClass(item.Status,"text-"))">
                  <!--  <h5 class="card-title">    title</h5>-->
                    <p class="timeline-body card-text">
                        <ul class="list-group list-group-flush">
                            @foreach (var executionsScripts in item.ExecutionsScriptses)
                            {
                                <li class="list-group-item @(GetCssClass(executionsScripts.Status, "text-"))">
                                    <i class="material-icons">@(GetIconText(executionsScripts.Status))</i>
                                    <small>
                                        @Html.DisplayFor(model => executionsScripts.Script.Name)
                                    </small>
                                </li>
                            }
                        </ul>
                    </p>
                </div>
                <div class="card-footer bg-transparent @(GetCssClass(item.Status, "border-"))">
                    
                    <p>
                        <small>
                            <i class="material-icons">trending_up</i>  
                            @(item.SrartTime!=null ? item.SrartTime.ToString() : "-")
                            to 
                            <i class="material-icons">trending_down</i>
                            @(item.EndTime!=null ? item.EndTime.ToString() : "-")

                        </small>
                    </p>
                </div>
            </div>
        </li>
    }
    <!--<li class="timeline-item">
        <div class="timeline-badge"><i class="glyphicon glyphicon-check"></i></div>
        <div class="timeline-panel">
            <div class="timeline-heading">
                <h4 class="timeline-title">Mussum ipsum cacilds 2</h4>
                <p><small class="text-muted"><i class="glyphicon glyphicon-time"></i> 11 hours ago via Twitter</small></p>
            </div>
            <div class="timeline-body">
                <p>Mussum ipsum cacilds, vidis litro abertis. Consetis adipiscings elitis. Pra lá , depois divoltis porris, paradis. Paisis, filhis, espiritis santis. Mé faiz elementum girarzis, nisi eros gostis.</p>
            </div>
        </div>
    </li>
    <li class="timeline-item">
        <div class="timeline-badge"><i class="glyphicon glyphicon-check"></i></div>
        <div class="timeline-panel">
            <div class="timeline-heading">
                <h4 class="timeline-title">Mussum ipsum cacilds 3</h4>
                <p><small class="text-muted"><i class="glyphicon glyphicon-time"></i> 11 hours ago via Twitter</small></p>
            </div>
            <div class="timeline-body">
                <p>Mussum ipsum cacilds, vidis litro abertis. Consetis adipiscings elitis. Pra lá , depois divoltis porris, paradis. Paisis, filhis, espiritis santis. Mé faiz elementum girarzis, nisi eros vermeio, in elementis mé pra quem é amistosis quis leo. Manduma pindureta quium dia nois paga. Sapien in monti palavris qui num significa nadis i pareci latim. Interessantiss quisso pudia ce receita de bolis, mais bolis eu num gostis.</p>
                <p>Mussum ipsum cacilds, vidis litro abertis. Consetis adipiscings elitis. Pra lá , depois divoltis porris, paradis. Paisis, filhis, espiritis santis. Mé faiz elementum girarzis, nisi eros vermeio, in elementis mé pra quem é amistosis quis leo. Manduma pindureta quium dia nois paga. Sapien in monti palavris qui num significa nadis i pareci latim. Interessantiss quisso pudia ce receita de bolis, mais bolis eu num gostis.</p>

            </div>
        </div>
    </li>
    <li class="timeline-item">
        <div class="timeline-badge"><i class="glyphicon glyphicon-check"></i></div>
        <div class="timeline-panel">
            <div class="timeline-heading">
                <h4 class="timeline-title">Mussum ipsum cacilds 4</h4>
                <p><small class="text-muted"><i class="glyphicon glyphicon-time"></i> 11 hours ago via Twitter</small></p>
            </div>
            <div class="timeline-body">
                <p>Mussum ipsum cacilds, vidis litro abertis. Consetis adipiscings elitis. Pra lá , depois divoltis porris, paradis. Paisis, filhis, espiritis santis. Mé faiz elementum girarzis, nisi eros vermeio, in elementis mé pra quem é amistosis quis leo. Manduma pindureta quium dia nois paga. Sapien in monti palavris qui num significa nadis i pareci latim. Interessantiss quisso pudia ce receita de bolis, mais bolis eu num gostis.</p>
            </div>
        </div>
    </li>-->
</ul>